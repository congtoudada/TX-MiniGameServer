syntax = "proto2";

import "GamePlayPB.proto";
import "GameSystemPB.proto";
import "GameMonster.proto";
import "GamePlayerPB.proto";
import "GameBoss.proto";

//=================数据包=================//
message Pkg{
  required Head head = 1;
  optional Body body = 2;
}

//=================数据头=================//
message Head{
  required int64 uid = 1;  // uid
  required CMD cmd = 2;  // 协议号
  required int64 seq = 3;  // 序列号
  required Result result = 4;  // 错误码
}

//=================协议体=================//
message Body{
  // 系统从1开始
  optional ReqPing reqPing = 1;
  optional RspPing rspPing = 2;
  optional ReqJsonData reqJsonData = 3;
  optional RspJsonData rspJsonData = 4;
  optional ReqLogin reqLogin = 5;
  optional RspLogin rspLogin = 6;
  optional ReqMatch reqMatch = 7;
  optional RspMatch rspMatch = 8;
  optional RspKick rspKick = 10;
  optional ReqExitGame reqExitGame = 11;
  optional RspExitGame rspExitGame = 12;
  optional ReqLoadComplete reqLoadComplete = 13;
  optional RspLoadComplete rspLoadComplete = 14;
  optional ReqExitRoom reqExitRoom = 15;
  optional RspExitRoom rspExitRoom = 16;
  // 玩法从1000开始
  optional ReqEquip reqEquip = 1000;
  optional RspEquip rspEquip = 1001;
  optional ReqStartGame reqStartGame = 1002;
  optional RspStartGame rspStartGame = 1003;
  optional ReqGenMonster reqGenMonster = 1004;
  optional RspGenMonster rspGenMonster = 1005;
  optional ReqAttackMonster reqAttackMonster = 1006;
  optional RspAttackMonster rspAttackMonster = 1007;
  optional ReqSyncPosMonster reqSyncPosMonster = 1008;
  optional RspSyncPosMonster rspSyncPosMonster = 1009;
  optional ReqPlayerTick reqPlayerTick = 1010;
  optional RspPlayerTick rspPlayerTick = 1011;
  optional ReqFindTarget reqFindTarget = 1012;
  optional RspFindTarget rspFindTarget = 1013;
  optional ReqPlayerBullet reqPlayerBullet = 1014;
  optional RspPlayerBullet rspPlayerBullet = 1015;
  optional ReqPlayerRecoil reqPlayerRecoil = 1016;
  optional RspPlayerRecoil rspPlayerRecoil = 1017;
  optional ReqMonsterDash reqMonsterDash = 1018;
  optional RspMonsterDash rspMonsterDash = 1019;
  optional ReqPlayerHit reqPlayerHit = 1020;
  optional RspPlayerHit rspPlayerHit = 1021;
  optional ReqGenerateProp reqGenerateProp = 1022;
  optional RspGenerateProp rspGenerateProp = 1023;
  optional ReqGetProp reqGetProp = 1024;
  optional RspGetProp rspGetProp = 1025;
  optional ReqBossAction reqBossAction = 1026;
  optional RspBossAction rspBossAction = 1027;
  optional ReqAttackBoss reqAttackBoss = 1028;
  optional RspAttackBoss rspAttackBoss = 1029;
}

//=================协议号=================//
enum CMD {
  //=================系统从1开始=================//
  Ping = 1;
  Json = 2;
  Login = 3;
  Match = 4;
  Kick = 5;
  ExitGame = 6;
  LoadComplete = 7;
  ExitRoom = 8;
  //=================玩法从1000开始=================//
  Equip = 1000;
  StartGame = 1001;
  GenMonster = 1002;
  AttackMonster = 1003;
  SyncPosMonster = 1004;
  PlayerTick = 1005;
  MonsterFindTarget = 1006;
  PlayerBullet = 1007;
  Recoil = 1008;
  MonsterDash = 1009;
  PlayerHit = 1010;
  GenerateProp = 1011;
  GetProp = 1012;
  BossAction = 1013;
  AttackBoss = 1014;
}

//=================返回值=================//
enum Result {
  Success = 0;
  //=================系统从1开始=================//
  HasBeenRegistered = 1;  // 已经注册
  HasOnline = 2;  // 已经在线
  RoomBusy = 3;  // 房间已在游戏中
  RoomFull = 4;  // 房间满人
  RoomNoExist = 5;  // 房间不存在
  //=================玩法从1000开始=================//
}


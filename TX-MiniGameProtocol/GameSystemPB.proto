syntax = "proto2";

// 所有协议以"req"或"rsp"开头
message ReqPing  // 心跳请求
{
    required int64 timestamp = 1;  // 请求时间戳
}

message RspPing
{
    required int64 timestamp = 1;  // 请求时间戳
}

message ReqJsonData  // Json请求
{
    required string content = 1;  // 请求json
}

message RspJsonData
{
    required string content = 1;  // 响应json
}

message ReqLogin  // 登录请求
{
    required string nickname = 1;  // 请求昵称
}

message RspLogin
{
    required string nickname = 1;
}

message ReqMatch // 匹配请求
{
    required bool isReady = 1;  // 是否就绪
    required int32 roomId = 2;  // 请求房间号 (0表示由服务器分配)
}

message MatchInfo
{
    required int64 uId = 1;
    required string nickname = 2;  // 昵称
    required bool isReady = 3;  // 是否准备就绪
    required int32 roomOrder = 4;  // 房间序号
}

message RspMatch
{
    repeated MatchInfo matchInfoList = 1;  // 玩家信息
    required int32 roomId = 2;  // 房间号
    required int64 ownerUId = 3;  // 房主Uid
}

message RspKick  // 踢下线
{
    
}

message ReqExitGame  // 下线请求
{
    
}

message RspExitGame
{
    
}

message PlayerData {
    required int32 uid = 1; //UID(首次游戏为0，唯一)
    required string nickName = 2; //名字(唯一)
    // TODO:简化项目，所有数据由用户本地保存
}

message ReqLoadComplete
{
    
}

message RspLoadComplete
{
    
}